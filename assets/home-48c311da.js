import{w as le,a as ce,b as O,_ as Z,c as $,d as T,e as G,I as ue,u as U,f as x,F as pe,h as f,i as fe,k as me,L as Q,l as ve,m as M,S as de}from"./index-b6d4049e.js";import{H as he,l as ye}from"./Heading-1cb6bb5a.js";import{T as z}from"./TextInput-a63be431.js";function ge(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function B(e,t){if(e==null)return{};var n=ge(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var be={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},xe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function J(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(be[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(xe),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var i=a[1].trim(),p=[i,""];i.indexOf("=")>-1&&(p=i.split("=")),t.attrs[p[0]]=p[1],o.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Oe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,we=/^\s*$/,je=Object.create(null);function R(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var o in n)r.push(o+'="'+n[o]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(R,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Ee={parse:function(e,t){t||(t={}),t.components||(t.components=je);var n,r=[],o=[],a=-1,i=!1;if(e.indexOf("<")!==0){var p=e.indexOf("<");r.push({type:"text",content:p===-1?e:e.substring(0,p)})}return e.replace(Oe,function(v,w){if(i){if(v!=="</"+n.name+">")return;i=!1}var j,E=v.charAt(1)!=="/",k=v.startsWith("<!--"),y=w+v.length,b=e.charAt(y);if(k){var K=J(v);return a<0?(r.push(K),r):((j=o[a]).children.push(K),r)}if(E&&(a++,(n=J(v)).type==="tag"&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!b||b==="<"||n.children.push({type:"text",content:e.slice(y,e.indexOf("<",y))}),a===0&&r.push(n),(j=o[a-1])&&j.children.push(n),o[a]=n),(!E||n.voidElement)&&(a>-1&&(n.voidElement||n.name===v.slice(2,-1))&&(a--,n=a===-1?r:o[a]),!i&&b!=="<"&&b)){j=a===-1?r:o[a].children;var c=e.indexOf("<",y),h=e.slice(y,c===-1?void 0:c);we.test(h)&&(h=" "),(c>-1&&a+j.length>=0||h!==" ")&&j.push({type:"text",content:h})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+R("",n)},"")}},Ne=["format"],ke=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(r){Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function W(e){return e?e.props?e.props.children:e.children:[]}function Pe(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return O.isValidElement(t)})}function D(e){return Array.isArray(e)?e:[e]}function Ke(e,t){var n=d({},t);return n.props=Object.assign(e.props,t.props),n}function _(e,t){if(!e)return"";var n="",r=D(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach(function(a,i){if(typeof a=="string")n+="".concat(a);else if(O.isValidElement(a)){var p=Object.keys(a.props).length,v=o.indexOf(a.type)>-1,w=a.props.children;if(!w&&v&&p===0)n+="<".concat(a.type,"/>");else if(!w&&(!v||p!==0))n+="<".concat(i,"></").concat(i,">");else if(a.props.i18nIsDynamicList)n+="<".concat(i,"></").concat(i,">");else if(v&&p===1&&typeof w=="string")n+="<".concat(a.type,">").concat(w,"</").concat(a.type,">");else{var j=_(w,t);n+="<".concat(i,">").concat(j,"</").concat(i,">")}}else if(a===null)$("Trans: the passed in value is invalid - seems you passed in a null child.");else if(T(a)==="object"){var E=a.format,k=B(a,Ne),y=Object.keys(k);if(y.length===1){var b=E?"".concat(y[0],", ").concat(E):y[0];n+="{{".concat(b,"}}")}else $("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else $("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),n}function Ae(e,t,n,r,o,a){if(t==="")return[];var i=r.transKeepBasicHtmlNodesFor||[],p=t&&new RegExp(i.join("|")).test(t);if(!e&&!p)return[t];var v={};function w(c){var h=D(c);h.forEach(function(l){typeof l!="string"&&(V(l)?w(W(l)):T(l)==="object"&&!O.isValidElement(l)&&Object.assign(v,l))})}w(e);var j=Ee.parse("<0>".concat(t,"</0>")),E=d(d({},v),o);function k(c,h,l){var u=W(c),N=b(u,h.children,l);return Pe(u)&&N.length===0?u:N}function y(c,h,l,u,N){c.dummy&&(c.children=h),l.push(O.cloneElement(c,d(d({},c.props),{},{key:u}),N?void 0:h))}function b(c,h,l){var u=D(c),N=D(h);return N.reduce(function(g,s,P){var S=s.children&&s.children[0]&&s.children[0].content&&n.services.interpolator.interpolate(s.children[0].content,E,n.language);if(s.type==="tag"){var A=u[parseInt(s.name,10)];!A&&l.length===1&&l[0][s.name]&&(A=l[0][s.name]),A||(A={});var m=Object.keys(s.attrs).length!==0?Ke({props:s.attrs},A):A,F=O.isValidElement(m),H=F&&V(s,!0)&&!s.voidElement,ee=p&&T(m)==="object"&&m.dummy&&!F,te=T(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,s.name);if(typeof m=="string"){var ne=n.services.interpolator.interpolate(m,E,n.language);g.push(ne)}else if(V(m)||H){var re=k(m,s,l);y(m,re,g,P)}else if(ee){var ae=b(u,s.children,l);g.push(O.cloneElement(m,d(d({},m.props),{},{key:P}),ae))}else if(Number.isNaN(parseFloat(s.name)))if(te){var se=k(m,s,l);y(m,se,g,P,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&i.indexOf(s.name)>-1)if(s.voidElement)g.push(O.createElement(s.name,{key:"".concat(s.name,"-").concat(P)}));else{var oe=b(u,s.children,l);g.push(O.createElement(s.name,{key:"".concat(s.name,"-").concat(P)},oe))}else if(s.voidElement)g.push("<".concat(s.name," />"));else{var ie=b(u,s.children,l);g.push("<".concat(s.name,">").concat(ie,"</").concat(s.name,">"))}else if(T(m)==="object"&&!F){var I=s.children[0]?S:null;I&&g.push(I)}else s.children.length===1&&S?g.push(O.cloneElement(m,d(d({},m.props),{},{key:P}),S)):g.push(O.cloneElement(m,d(d({},m.props),{},{key:P})))}else if(s.type==="text"){var C=r.transWrapTextNodes,q=a?r.unescape(n.services.interpolator.interpolate(s.content,E,n.language)):n.services.interpolator.interpolate(s.content,E,n.language);C?g.push(O.createElement(C,{key:"".concat(s.name,"-").concat(P)},q)):g.push(q)}return g},[])}var K=b([{dummy:!0,children:e||[]}],j,D(e||[]));return W(K[0])}function Se(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,a=e.context,i=e.tOptions,p=i===void 0?{}:i,v=e.values,w=e.defaults,j=e.components,E=e.ns,k=e.i18n,y=e.t,b=e.shouldUnescape,K=B(e,ke),c=k||G();if(!c)return le("You will need to pass in an i18next instance by using i18nextReactModule"),t;var h=y||c.t.bind(c)||function(H){return H};a&&(p.context=a);var l=d(d({},ce()),c.options&&c.options.react),u=E||h.ns||c.options&&c.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"];var N=w||_(t,l)||l.transEmptyNodeValue||o,g=l.hashTransKey,s=o||(g?g(N):N),P=v?p.interpolation:{interpolation:d(d({},p.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=d(d(d(d({},p),{},{count:n},v),P),{},{defaultValue:N,ns:u}),A=s?h(s,S):N,m=Ae(j||t,A,c,l,S,b),F=r!==void 0?r:l.defaultTransParent;return F?O.createElement(F,K,m):m}var Fe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(r){Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function De(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,a=e.context,i=e.tOptions,p=i===void 0?{}:i,v=e.values,w=e.defaults,j=e.components,E=e.ns,k=e.i18n,y=e.t,b=e.shouldUnescape,K=B(e,Fe),c=O.useContext(ue)||{},h=c.i18n,l=c.defaultNS,u=k||h||G(),N=y||u&&u.t.bind(u);return Se(Te({children:t,count:n,parent:r,i18nKey:o,context:a,tOptions:p,values:v,defaults:w,components:j,ns:E||N&&N.ns||l||u&&u.options&&u.options.defaultNS,i18n:u,t:y,shouldUnescape:b},K))}function He({error:e}){const{t}=U();return x(pe,{className:"flex flex-col space-y-4",method:"post",action:"/",children:[x("label",{htmlFor:"username",children:[f("p",{children:t`ui.username`}),f(z,{name:"username",id:"username",required:!0})]}),x("label",{htmlFor:"password",children:[f("p",{children:t`ui.password`}),f(z,{name:"password",id:"password",type:"password",minLength:10,required:!0}),f("p",{className:"text-gray-700",children:t`ui.password_hint`})]}),e&&f("p",{className:"bold text-red-500",children:e.error}),f("button",{className:"rounded bg-brand p-2 text-white",children:t`ui.log in`})]})}const $e=[{to:"/new/mau_giao",labelKey:"new form children less than five"},{to:"/new/tieu_hoc",labelKey:"new form children six to fifteen"},{to:"/new/nguoi_lon",labelKey:"new form adults"},{to:"/new/research_coidp",labelKey:"new form research coidp"}],Ve=[{to:"/new/who_children_surface",labelKey:"new who children surface"}],Be=()=>{const{t:e}=U("home"),{t}=U(),n=fe(),r=me(),[o,a]=O.useState(!1);return O.useEffect(()=>{var i;navigator.serviceWorker&&(((i=navigator.serviceWorker.controller)==null?void 0:i.state)=="activated"?a(!0):navigator.serviceWorker.ready.then(p=>{p.active&&a(!0)}))},[a]),x("div",{className:"voser-container voser-page-padding space-y-8 py-8",children:[x("div",{className:"mt-4 space-y-2 text-center",children:[x(he,{children:["VOSER - ",t`voser explain`]}),f("p",{className:"text-xl",children:t`voser maker`})]}),x("div",{className:"space-y-6 px-2 sm:px-0",children:[f(Q,{to:"/manage",className:"inline-block rounded-lg bg-brand py-2 px-3 text-xl text-white hover:bg-brand-400",children:e("form manage page")}),f("h2",{className:ve(ye(2),"text-brand"),children:e`create new form`}),x("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:space-y-0 md:space-x-4",children:[x("article",{className:"w-full max-w-md space-y-4 rounded-lg border bg-white p-4 shadow-md sm:p-8",children:[f("h5",{className:"text-xl font-bold leading-none text-gray-900",children:e`ump forms`}),f(L,{actions:$e,lang:"vi"})]}),x("article",{className:"w-full max-w-md space-y-4 rounded-lg border bg-white p-4 shadow-md sm:p-8",children:[f("h5",{className:"text-xl font-bold leading-none text-gray-900",children:e`who forms`}),f(L,{actions:Ve,lang:"en"})]}),f("article",{className:"w-full max-w-md space-y-4 rounded-lg border bg-white p-4 shadow-md sm:p-8",children:r?x(M,{children:[x("h5",{className:"text-xl font-bold leading-none text-gray-900",children:[e("hi")," ",r.name?`${r.name} (${r.username})`:r.username]}),f(L,{actions:[{to:"/manage",labelKey:"manage forms.on device"}]})]}):x(M,{children:[f("h5",{className:"text-xl font-bold leading-none text-gray-900",children:t`ui.log in for syncing`}),f(He,{error:n})]})})]}),o&&x("div",{className:"flex space-x-2 text-green-600",children:[e`offline_ready`,f(de,{name:"check_check",className:"ml-1 h-6 w-6"})]})]})]})};function L({actions:e,lang:t}){return f("ul",{className:"divide-y divide-slate-300",children:e.map(({to:n,labelKey:r})=>x(Q,{to:n,className:"block w-full py-2 hover:bg-slate-200",children:[t&&x("span",{className:"text-sm text-gray-700",children:["(",t,")"]})," ",f(De,{ns:"home",children:r})]},n))})}export{Be as default};
