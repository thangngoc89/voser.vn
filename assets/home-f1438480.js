import{w as le,a as ce,b as O,_ as Y,c as H,d as T,e as Z,I as ue,f as x,F as pe,h as v,u as C,i as fe,k as me,L as G,l as ve,m as M,S as de}from"./index-c66b48bc.js";import{H as he,l as ye}from"./Heading-e594e029.js";import{T as q}from"./TextInput-dac499bf.js";function ge(e,n){if(e==null)return{};var t={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(n.indexOf(o)>=0)&&(t[o]=e[o]);return t}function W(e,n){if(e==null)return{};var t=ge(e,n),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var be={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},xe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Q(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(be[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(xe),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var i=a[1].trim(),p=[i,""];i.indexOf("=")>-1&&(p=i.split("=")),n.attrs[p[0]]=p[1],o.lastIndex--}else a[2]&&(n.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return n}var Oe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,we=/^\s*$/,je=Object.create(null);function R(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var r=[];for(var o in t)r.push(o+'="'+t[o]+'"');return r.length?" "+r.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(R,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var Ee={parse:function(e,n){n||(n={}),n.components||(n.components=je);var t,r=[],o=[],a=-1,i=!1;if(e.indexOf("<")!==0){var p=e.indexOf("<");r.push({type:"text",content:p===-1?e:e.substring(0,p)})}return e.replace(Oe,function(m,w){if(i){if(m!=="</"+t.name+">")return;i=!1}var j,E=m.charAt(1)!=="/",N=m.startsWith("<!--"),y=w+m.length,b=e.charAt(y);if(N){var A=Q(m);return a<0?(r.push(A),r):((j=o[a]).children.push(A),r)}if(E&&(a++,(t=Q(m)).type==="tag"&&n.components[t.name]&&(t.type="component",i=!0),t.voidElement||i||!b||b==="<"||t.children.push({type:"text",content:e.slice(y,e.indexOf("<",y))}),a===0&&r.push(t),(j=o[a-1])&&j.children.push(t),o[a]=t),(!E||t.voidElement)&&(a>-1&&(t.voidElement||t.name===m.slice(2,-1))&&(a--,t=a===-1?r:o[a]),!i&&b!=="<"&&b)){j=a===-1?r:o[a].children;var c=e.indexOf("<",y),h=e.slice(y,c===-1?void 0:c);we.test(h)&&(h=" "),(c>-1&&a+j.length>=0||h!==" ")&&j.push({type:"text",content:h})}}),r},stringify:function(e){return e.reduce(function(n,t){return n+R("",t)},"")}},ke=["format"],Ne=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?z(Object(t),!0).forEach(function(r){Y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function V(e,n){if(!e)return!1;var t=e.props?e.props.children:e.children;return n?t.length>0:!!t}function L(e){return e?e.props?e.props.children:e.children:[]}function Pe(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(n){return O.isValidElement(n)})}function D(e){return Array.isArray(e)?e:[e]}function Ae(e,n){var t=d({},n);return t.props=Object.assign(e.props,n.props),t}function _(e,n){if(!e)return"";var t="",r=D(e),o=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return r.forEach(function(a,i){if(typeof a=="string")t+="".concat(a);else if(O.isValidElement(a)){var p=Object.keys(a.props).length,m=o.indexOf(a.type)>-1,w=a.props.children;if(!w&&m&&p===0)t+="<".concat(a.type,"/>");else if(!w&&(!m||p!==0))t+="<".concat(i,"></").concat(i,">");else if(a.props.i18nIsDynamicList)t+="<".concat(i,"></").concat(i,">");else if(m&&p===1&&typeof w=="string")t+="<".concat(a.type,">").concat(w,"</").concat(a.type,">");else{var j=_(w,n);t+="<".concat(i,">").concat(j,"</").concat(i,">")}}else if(a===null)H("Trans: the passed in value is invalid - seems you passed in a null child.");else if(T(a)==="object"){var E=a.format,N=W(a,ke),y=Object.keys(N);if(y.length===1){var b=E?"".concat(y[0],", ").concat(E):y[0];t+="{{".concat(b,"}}")}else H("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else H("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),t}function Se(e,n,t,r,o,a){if(n==="")return[];var i=r.transKeepBasicHtmlNodesFor||[],p=n&&new RegExp(i.join("|")).test(n);if(!e&&!p)return[n];var m={};function w(c){var h=D(c);h.forEach(function(l){typeof l!="string"&&(V(l)?w(L(l)):T(l)==="object"&&!O.isValidElement(l)&&Object.assign(m,l))})}w(e);var j=Ee.parse("<0>".concat(n,"</0>")),E=d(d({},m),o);function N(c,h,l){var u=L(c),k=b(u,h.children,l);return Pe(u)&&k.length===0?u:k}function y(c,h,l,u,k){c.dummy&&(c.children=h),l.push(O.cloneElement(c,d(d({},c.props),{},{key:u}),k?void 0:h))}function b(c,h,l){var u=D(c),k=D(h);return k.reduce(function(g,s,P){var F=s.children&&s.children[0]&&s.children[0].content&&t.services.interpolator.interpolate(s.children[0].content,E,t.language);if(s.type==="tag"){var S=u[parseInt(s.name,10)];!S&&l.length===1&&l[0][s.name]&&(S=l[0][s.name]),S||(S={});var f=Object.keys(s.attrs).length!==0?Ae({props:s.attrs},S):S,K=O.isValidElement(f),$=K&&V(s,!0)&&!s.voidElement,ee=p&&T(f)==="object"&&f.dummy&&!K,te=T(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,s.name);if(typeof f=="string"){var ne=t.services.interpolator.interpolate(f,E,t.language);g.push(ne)}else if(V(f)||$){var re=N(f,s,l);y(f,re,g,P)}else if(ee){var ae=b(u,s.children,l);g.push(O.cloneElement(f,d(d({},f.props),{},{key:P}),ae))}else if(Number.isNaN(parseFloat(s.name)))if(te){var se=N(f,s,l);y(f,se,g,P,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&i.indexOf(s.name)>-1)if(s.voidElement)g.push(O.createElement(s.name,{key:"".concat(s.name,"-").concat(P)}));else{var oe=b(u,s.children,l);g.push(O.createElement(s.name,{key:"".concat(s.name,"-").concat(P)},oe))}else if(s.voidElement)g.push("<".concat(s.name," />"));else{var ie=b(u,s.children,l);g.push("<".concat(s.name,">").concat(ie,"</").concat(s.name,">"))}else if(T(f)==="object"&&!K){var U=s.children[0]?F:null;U&&g.push(U)}else s.children.length===1&&F?g.push(O.cloneElement(f,d(d({},f.props),{},{key:P}),F)):g.push(O.cloneElement(f,d(d({},f.props),{},{key:P})))}else if(s.type==="text"){var B=r.transWrapTextNodes,I=a?r.unescape(t.services.interpolator.interpolate(s.content,E,t.language)):t.services.interpolator.interpolate(s.content,E,t.language);B?g.push(O.createElement(B,{key:"".concat(s.name,"-").concat(P)},I)):g.push(I)}return g},[])}var A=b([{dummy:!0,children:e||[]}],j,D(e||[]));return L(A[0])}function Fe(e){var n=e.children,t=e.count,r=e.parent,o=e.i18nKey,a=e.context,i=e.tOptions,p=i===void 0?{}:i,m=e.values,w=e.defaults,j=e.components,E=e.ns,N=e.i18n,y=e.t,b=e.shouldUnescape,A=W(e,Ne),c=N||Z();if(!c)return le("You will need to pass in an i18next instance by using i18nextReactModule"),n;var h=y||c.t.bind(c)||function($){return $};a&&(p.context=a);var l=d(d({},ce()),c.options&&c.options.react),u=E||h.ns||c.options&&c.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"];var k=w||_(n,l)||l.transEmptyNodeValue||o,g=l.hashTransKey,s=o||(g?g(k):k),P=m?p.interpolation:{interpolation:d(d({},p.interpolation),{},{prefix:"#$?",suffix:"?$#"})},F=d(d(d(d({},p),{},{count:t},m),P),{},{defaultValue:k,ns:u}),S=s?h(s,F):k,f=Se(j||n,S,c,l,F,b),K=r!==void 0?r:l.defaultTransParent;return K?O.createElement(K,A,f):f}var Ke=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?J(Object(t),!0).forEach(function(r){Y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function De(e){var n=e.children,t=e.count,r=e.parent,o=e.i18nKey,a=e.context,i=e.tOptions,p=i===void 0?{}:i,m=e.values,w=e.defaults,j=e.components,E=e.ns,N=e.i18n,y=e.t,b=e.shouldUnescape,A=W(e,Ke),c=O.useContext(ue)||{},h=c.i18n,l=c.defaultNS,u=N||h||Z(),k=y||u&&u.t.bind(u);return Fe(Te({children:n,count:t,parent:r,i18nKey:o,context:a,tOptions:p,values:m,defaults:w,components:j,ns:E||k&&k.ns||l||u&&u.options&&u.options.defaultNS,i18n:u,t:y,shouldUnescape:b},A))}function $e({error:e}){return x(pe,{className:"flex flex-col space-y-4",method:"post",action:"/",children:[x("label",{htmlFor:"username",children:[v("p",{children:"Tên đăng nhập"}),v(q,{name:"username",id:"username",required:!0})]}),x("label",{htmlFor:"password",children:[v("p",{children:"Mật khẩu"}),v(q,{name:"password",id:"password",type:"password",minLength:10,required:!0}),v("p",{className:"text-gray-700",children:"Mật khẩu tối thiểu 10 kí tự"})]}),e&&v("p",{className:"bold text-red-500",children:e.error}),v("button",{className:"rounded bg-brand p-2 text-white",children:"Đăng nhập"})]})}const He=[{to:"/new/mau_giao",labelKey:"new form children less than five"},{to:"/new/tieu_hoc",labelKey:"new form children six to fifteen"},{to:"/new/nguoi_lon",labelKey:"new form adults"}],Ue=()=>{const{t:e}=C("home"),{t:n}=C(),t=fe(),r=me(),[o,a]=O.useState(!1);return O.useEffect(()=>{var i;navigator.serviceWorker&&(((i=navigator.serviceWorker.controller)==null?void 0:i.state)=="activated"?a(!0):navigator.serviceWorker.ready.then(p=>{p.active&&a(!0)}))},[a]),x("div",{className:"voser-container voser-page-padding space-y-8 py-8",children:[x("div",{className:"mt-4 space-y-2 text-center",children:[x(he,{children:["VOSER - ",n`voser explain`]}),v("p",{className:"text-xl",children:n`voser maker`})]}),x("div",{className:"space-y-6",children:[v(G,{to:"/manage",className:"inline-block rounded-lg bg-brand-400 py-2 px-3 text-xl text-white hover:bg-brand",children:"Quản lí hồ sơ"}),v("h2",{className:ve(ye(2),"text-brand"),children:e`create new form`}),x("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:space-y-0 md:space-x-4",children:[x("article",{className:"w-full max-w-md space-y-4 rounded-lg border bg-white p-4 shadow-md sm:p-8",children:[v("h5",{className:"text-xl font-bold leading-none text-gray-900",children:"Form thực địa"}),v(X,{actions:He,lang:"vi"})]}),v("article",{className:"w-full max-w-md space-y-4 rounded-lg border bg-white p-4 shadow-md sm:p-8",children:r?x(M,{children:[x("h5",{className:"text-xl font-bold leading-none text-gray-900",children:["Chào"," ",r.name?`${r.name} (${r.username})`:r.username]}),v(X,{actions:[{to:"/manage",labelKey:"Quản lí hồ sơ trên thiết bị"}],lang:"vi"})]}):x(M,{children:[v("h5",{className:"text-xl font-bold leading-none text-gray-900",children:"Đăng nhập để đồng bộ hồ sơ"}),v($e,{error:t})]})})]}),o&&x("div",{className:"flex space-x-2 text-green-600",children:["Offline ready ",v(de,{name:"check_check",className:"h-6 w-6"})]})]})]})};function X({actions:e,lang:n}){return v("ul",{className:"divide-y divide-slate-300",children:e.map(({to:t,labelKey:r})=>x(G,{to:t,className:"block w-full py-2 hover:bg-slate-200",children:[x("span",{className:"text-sm text-gray-700",children:["(",n,")"]})," ",v(De,{ns:"home",children:r})]},t))})}export{Ue as default};
