import{d as n}from"./db-a8aa823d.js";import{j as l}from"./index-654a6f85.js";const m=25,h=async({request:t,params:a})=>{const r=new URL(t.url),e=Math.max(o("offset",r.searchParams)||0,0),s=Math.max(o("limit",r.searchParams)||m,10),[i,c]=await Promise.all([n.list.orderBy("createdAt").reverse().offset(e).limit(s).toArray(),n.list.count()]);return l({list:i,count:c,offset:e,limit:s})};function u(t,a){return a.get(t)}function o(t,a){const r=u(t,a);return r&&parseInt(r)||null}export{m as defaultLimit,h as loader};
