import{i as n}from"./types-c79d6c74.js";import{l as s}from"./db_calls-11354407.js";import{loaderSurveyDataAndSchema as i}from"./survey-edit--loader-e589e1d6.js";import{j as f}from"./index-500e795c.js";import"./db-d72aea4d.js";import"./index-b0b07812.js";import"./tieu_hoc_child_oidp-3baf1c59.js";const S=async({request:u,params:o})=>{n(o.formName);const{survey:e,surveySchema:r}=await i(o),a=r.forms.find(({form:m})=>m.name===o.formName);if(a==null)throw new Response(`Form ${o.formName} isn't available`,{status:400,statusText:"Unknown form name"});const t=await s(e.surveyId,o.formName);return f({formSchema:a,survey:e,formData:t||null,defaultValues:a.makeInitialValues()})};export{S as loader};
