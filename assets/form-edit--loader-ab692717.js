import{i as n}from"./types-80b88e2e.js";import{l as s}from"./db_calls-b73e5498.js";import{loaderSurveyDataAndSchema as i}from"./survey-edit--loader-d5f5da3c.js";import{j as f}from"./index-8b29e57d.js";import"./db-a8aa823d.js";import"./index-b0b07812.js";const S=async({request:u,params:o})=>{n(o.formName);const{survey:e,surveySchema:r}=await i(o),a=r.forms.find(({form:m})=>m.name===o.formName);if(a==null)throw new Response(`Form ${o.formName} isn't available`,{status:400,statusText:"Unknown form name"});const t=await s(e.surveyId,o.formName);return f({formSchema:a,survey:e,formData:t||null,defaultValues:a.makeInitialValues()})};export{S as loader};
