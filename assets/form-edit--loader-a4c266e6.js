import{i as n}from"./types-7c704679.js";import{l as s}from"./db_calls-7e15874e.js";import{loaderSurveyDataAndSchema as i}from"./survey-edit--loader-7d9c01e0.js";import{j as f}from"./index-2abc7288.js";import"./index-b0b07812.js";const w=async({request:u,params:o})=>{n(o.formName);const{survey:e,surveySchema:r}=await i(o),a=r.forms.find(({form:m})=>m.name===o.formName);if(a==null)throw new Response(`Form ${o.formName} isn't available`,{status:400,statusText:"Unknown form name"});const t=await s(e.surveyId,o.formName);return f({formSchema:a,survey:e,formData:t||null,defaultValues:a.makeInitialValues()})};export{w as loader};
