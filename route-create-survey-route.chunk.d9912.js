(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/Zpy":function(t,r){"use strict";r.a={notfound:"notfound__1Mgab"}},"4Ecs":function(t,r){"use strict";r.a={spinner:"spinner__3xt9E",spin:"spin__2BBia",delay:"delay__3sfhE"}},"7SJd":function(t,r,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,r){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},u(t,r)}function i(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=s(t);if(r){var o=s(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return a(this,e)}}function a(t,r){if(r&&("object"===n(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function l(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}e.d(r,"c",(function(){return p})),e.d(r,"a",(function(){return f})),e.d(r,"b",(function(){return v}));var f,y=e("6+U4"),d=e("9Qv7"),p=d.a;!function(t){t[t.NotSync=0]="NotSync",t[t.Synced=1]="Synced"}(f||(f={}));var v=new(function(t){function r(){var t;return l(c(t=s.call(this,"Voser")),"list",void 0),l(c(t),"data",void 0),l(c(t),"revision",void 0),t.version(4).stores({record_list:"surveyId, surveyType, createdAt",record_data:"[surveyId+surveyForm]"}),t.version(5).stores({record_list:"surveyId, surveyType, createdAt, syncStatus",record_data:"[surveyId+surveyForm], syncStatus",record_revisions:"surveyDataId, syncStatus, surveyDataId"}).upgrade((function(t){return t.record_data.toCollection().modify((function(t){t.syncStatus=f.NotSync,void 0===t.surveyDataId&&(t.surveyDataId=Object(d.a)())}))})),t.version(6).stores({record_list:"surveyId, surveyType, createdAt, syncStatus",record_data:"[surveyId+surveyForm], syncStatus",record_revisions:"surveyDataId, syncStatus, surveyDataId"}).upgrade((function(t){return t.record_list.toCollection().modify((function(t){t.syncStatus=f.NotSync}))})),t.list=t.table("record_list"),t.data=t.table("record_data"),t.revision=t.table("record_revisions"),t}!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&u(t,r)}(r,t);var e,n,a,s=i(r);return e=r,n&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(y.a))},UTjy:function(t,r,e){"use strict";(function(t){e.d(r,"a",(function(){return u}));var n=e("ox/y"),o=e("/Zpy"),u=function(r){var e=r.explain;return t("div",{class:o.a.notfound},t("h1",null,r.title),e&&t("p",null,e),t(n.Link,{href:"/"},t("h4",null,"Quay lại trang chủ")))}}).call(this,e("hosL").h)},W8jr:function(t,r,e){"use strict";(function(t){function n(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function o(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,u=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(u.push(n.value),!r||u.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}e.d(r,"a",(function(){return s}));var i=e("l8WD"),a=e("4Ecs"),c=e("JMg7"),s=function(){var r,e=o(Object(i.useState)(!1),2),u=e[0],s=e[1];return Object(i.useEffect)((function(){s(!0)}),[]),t("div",{className:Object(c.a)((r={},n(r,a.a.spinner,!0),n(r,a.a.delay,u),r))})}}).call(this,e("hosL").h)},eucj:function(t,r,e){"use strict";function n(t,r,e,n,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void e(t)}a.done?r(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var r=this,e=arguments;return new Promise((function(o,u){function i(t){n(c,o,u,i,a,"next",t)}function a(t){n(c,o,u,i,a,"throw",t)}var c=t.apply(r,e);i(void 0)}))}}e.d(r,"b",(function(){return i})),e.d(r,"c",(function(){return a})),e.d(r,"a",(function(){return c}));var u=e("7SJd"),i=function(){var t=o((function*(t,r){var e=yield u.b.data.get([t,r]);return"tieu_hoc_form"===r&&void 0===e?yield u.b.data.get([t,"mau_giao_form"]):e}));return function(r,e){return t.apply(this,arguments)}}(),a=function(){var t=o((function*(t,r,e){return yield u.b.transaction("rw",["record_data","record_revisions"],o((function*(){var n={surveyDataId:Object(u.c)(),surveyId:t,surveyForm:r,data:e,syncStatus:u.a.NotSync};yield u.b.data.put(n,[t,r]),yield u.b.revision.add(n,n.surveyDataId)})))}));return function(r,e,n){return t.apply(this,arguments)}}(),c=function(){var t=o((function*(t){return yield u.b.list.add({surveyId:Object(u.c)(),surveyType:t,createdAt:Date.now(),syncStatus:u.a.NotSync})}));return function(r){return t.apply(this,arguments)}}()},pjSh:function(t,r,e){"use strict";e.r(r),function(t){function n(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,u=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(u.push(n.value),!r||u.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return o(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var u=e("l8WD"),i=e("eucj"),a=e("Y3FI"),c=e("W8jr"),s=e("UTjy");r.default=function(r){var e=r.surveyType,o=n(Object(u.useState)({type:"initial"}),2),l=o[0],f=o[1];switch(Object(u.useEffect)((function(){Object(i.a)(e).then((function(t){Object(a.route)("/survey/".concat(t),!0)})).catch((function(t){console.error(t),f({type:"error",payload:t.message})}))}),[e]),l.type){case"initial":return t("div",{className:"wrapper"},t(c.a,null));case"error":return t("div",{className:"wrapper"},t(s.a,{title:"Đã có lỗi xảy ra",explain:l.payload}))}}}.call(this,e("hosL").h)}}]);
//# sourceMappingURL=route-create-survey-route.chunk.d9912.js.map